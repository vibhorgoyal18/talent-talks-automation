USING RUNNER: behave.runner:Runner
Feature: Create Job Opening # features/create_job_opening.feature:1
  As an HR manager
  I want to create new job openings
  So that I can start the recruitment process for positions2025-12-22 16:54:23,310 - INFO - talent-talks-automation - Starting scenario: Create job opening and verify it appears in the list "python_developer" -- @1.1 

  @ui @job @smoke @e2e
  Scenario Outline: Create job opening and verify it appears in the list "python_developer" -- @1.1                              # features/create_job_opening.feature:91
    Given I am logged in as a valid user                                                                                         # features/steps/create_job_opening_steps.py:21
2025-12-22 16:54:28,815 - INFO - talent-talks-automation - Successfully logged in as valid user
    And I navigate to the Create Job Opening page                                                                                # features/steps/create_job_opening_steps.py:40
2025-12-22 16:54:28,883 - INFO - talent-talks-automation - Navigated to Create Job Opening page
    When I load job opening data for "python_developer"                                                                          # features/steps/create_job_opening_steps.py:53
2025-12-22 16:54:28,883 - INFO - talent-talks-automation - Loaded job opening data for scenario: python_developer
2025-12-22 16:54:28,883 - INFO - talent-talks-automation - Unique job name: Python Developer - 20251222_165428
    And I fill in "Job Opening Name" with value from scenario "job_name"                                                         # features/steps/common_steps.py:35
2025-12-22 16:54:28,897 - INFO - talent-talks-automation - Filled in 'Job Opening Name' with 'Python Developer - 20251222_165428' from scenario data
    And I fill in "Enter or paste job description" with value from scenario "job_description"                                    # features/steps/common_steps.py:35
2025-12-22 16:54:28,909 - INFO - talent-talks-automation - Filled in 'Enter or paste job description' with 'Looking for an experienced Python developer with Django and FastAPI skills' from scenario data
    And I set "Interview Duration (minutes)" to 30                                                                               # features/steps/common_steps.py:187
2025-12-22 16:54:28,924 - INFO - talent-talks-automation - Set 'Interview Duration (minutes)' to 30
    And I check the "Enable Resume Evaluation" checkbox                                                                          # features/steps/common_steps.py:197
2025-12-22 16:54:28,949 - INFO - talent-talks-automation - Checked checkbox: 'Enable Resume Evaluation'
    And I set "Resume Evaluation Percentage" to 100                                                                              # features/steps/common_steps.py:187
2025-12-22 16:54:28,958 - INFO - talent-talks-automation - Set 'Resume Evaluation Percentage' to 100
    And I click the "Create Job Opening" button                                                                                  # features/steps/common_steps.py:92
2025-12-22 16:54:28,992 - INFO - talent-talks-automation - Clicked button: 'Create Job Opening'
    And I wait for 2 seconds                                                                                                     # features/steps/common_steps.py:170
2025-12-22 16:54:30,996 - INFO - talent-talks-automation - Waited for 2 seconds
    When I navigate to View Job Openings page                                                                                    # features/steps/create_job_opening_steps.py:222
2025-12-22 16:54:30,996 - INFO - talent-talks-automation - Waiting for job to be saved in database
2025-12-22 16:54:35,998 - INFO - talent-talks-automation - Clicking View Job Openings button in sidebar
2025-12-22 16:54:36,300 - INFO - talent-talks-automation - Searching for job: Python Developer - 20251222_165428
2025-12-22 16:54:37,349 - INFO - talent-talks-automation - Navigated to View Job Openings page
    Then I should see the item stored as "created_job_name" in the list                                                          # features/steps/common_steps.py:257
2025-12-22 16:54:37,353 - INFO - talent-talks-automation - Verified item is in list: 'Python Developer - 20251222_165428' (from context.created_job_name)
    And the item stored as "created_job_name" should have status "Active"                                                        # features/steps/common_steps.py:274
2025-12-22 16:54:37,357 - INFO - talent-talks-automation - Verified item 'Python Developer - 20251222_165428' has status: 'Active'
    When I load candidate data for "python_developer"                                                                            # features/steps/create_job_opening_steps.py:295
2025-12-22 16:54:37,357 - INFO - talent-talks-automation - Loaded candidate data for scenario: python_developer
2025-12-22 16:54:37,358 - INFO - talent-talks-automation - Candidate: Python_1222_1654, Email: vibhorgoyal.talenttalks@gmail.com
    And I navigate to "/interviews/new" page                                                                                     # features/steps/common_steps.py:15
2025-12-22 16:54:37,616 - INFO - talent-talks-automation - Navigated to: https://talenttalks.vlinkinfo.com/interviews/new
    And I select from "Select Job Opening" the value stored as "created_job_name"                                                # features/steps/common_steps.py:69
2025-12-22 16:54:39,094 - INFO - talent-talks-automation - Selected 'Python Developer - 20251222_165428' from 'Select Job Opening' (from context.created_job_name)
    And I fill in "Candidate Name" with value from scenario "candidate_name"                                                     # features/steps/common_steps.py:35
2025-12-22 16:54:39,141 - INFO - talent-talks-automation - Filled in 'Candidate Name' with 'Python_1222_1654' from scenario data
    And I fill in "Candidate Email" with value from scenario "candidate_email"                                                   # features/steps/common_steps.py:35
2025-12-22 16:54:39,166 - INFO - talent-talks-automation - Filled in 'Candidate Email' with 'vibhorgoyal.talenttalks@gmail.com' from scenario data
    And I fill in "Interview Date" with current date                                                                             # features/steps/create_job_opening_steps.py:335
2025-12-22 16:54:39,201 - INFO - talent-talks-automation - Filled in 'Interview Date' with current date: 2025-12-22
    And I fill in "Interview Time" with time 1 minute from now                                                                   # features/steps/create_job_opening_steps.py:367
2025-12-22 16:54:39,225 - INFO - talent-talks-automation - Filled in 'Interview Time' with time 1 minute(s) from now: 16:55
    And I upload the file from "cv_file" to "Select CV File"                                                                     # features/steps/common_steps.py:110
2025-12-22 16:54:39,752 - INFO - talent-talks-automation - Uploaded file '/Users/vibhorgoyal/PersonalWorkspace/talent-talks-automation/data/test_files/sample_cv.pdf' using 'Select CV File'
    And I upload the file from "photo_file" to "Select Image"                                                                    # features/steps/common_steps.py:110
2025-12-22 16:54:40,265 - INFO - talent-talks-automation - Uploaded file '/Users/vibhorgoyal/PersonalWorkspace/talent-talks-automation/data/test_files/Vibhor_Photo.jpg' using 'Select Image'
    And I click the "Schedule Interview" button                                                                                  # features/steps/common_steps.py:92
2025-12-22 16:54:40,297 - INFO - talent-talks-automation - Clicked button: 'Schedule Interview'
    Then the interview should be scheduled successfully                                                                          # features/steps/create_job_opening_steps.py:434
2025-12-22 16:54:43,299 - INFO - talent-talks-automation - Current URL after scheduling: https://talenttalks.vlinkinfo.com/interviews/new
2025-12-22 16:54:43,299 - INFO - talent-talks-automation - Still on schedule page after 3 seconds - assuming schedule successful
2025-12-22 16:54:43,299 - INFO - talent-talks-automation - Candidate email stored in context: vibhorgoyal.talenttalks@gmail.com
    When I wait for 3 seconds                                                                                                    # features/steps/common_steps.py:170
2025-12-22 16:54:46,302 - INFO - talent-talks-automation - Waited for 3 seconds
    When I navigate to View Interviews page                                                                                      # features/steps/create_job_opening_steps.py:498
2025-12-22 16:54:46,304 - INFO - talent-talks-automation - Waiting for interview to be saved in database
2025-12-22 16:54:49,309 - INFO - talent-talks-automation - Clicking View Interviews button in sidebar
2025-12-22 16:54:50,453 - INFO - talent-talks-automation - Navigated to View Interviews page
    And I search for the recently created interview                                                                              # features/steps/create_job_opening_steps.py:607
2025-12-22 16:54:50,453 - INFO - talent-talks-automation - Searching for interview by job title: Python Developer - 20251222_165428
2025-12-22 16:54:53,494 - INFO - talent-talks-automation - Search completed for: Python Developer - 20251222_165428
    Then I should see the recently created interview                                                                             # features/steps/create_job_opening_steps.py:628
2025-12-22 16:54:54,527 - INFO - talent-talks-automation - Interview found in the list (Candidate: Python_1222_1654, Job: Python Developer - 20251222_165428)
    When I click the 3-dot menu for the recently created interview                                                               # features/steps/create_job_opening_steps.py:676
2025-12-22 16:54:56,152 - INFO - talent-talks-automation - Clicked 3-dot menu for interview: Python_1222_1654
    And I click the "Send Invite" option from the menu                                                                           # features/steps/create_job_opening_steps.py:697
2025-12-22 16:54:57,770 - INFO - talent-talks-automation - Clicked 'Send Invite' option from menu
    Then the invite should be resent successfully                                                                                # features/steps/create_job_opening_steps.py:716
2025-12-22 16:54:59,838 - INFO - talent-talks-automation - Interview invite resent successfully
    And I should receive the interview invitation email                                                                          # features/steps/create_job_opening_steps.py:728
2025-12-22 16:55:01,159 - INFO - talent-talks-automation - Waiting for interview invitation email to vibhorgoyal.talenttalks@gmail.com...
2025-12-22 16:55:04,194 - INFO - talent-talks-automation - ‚úÖ Email found in üóëÔ∏è Spam - Subject: Interview Link for Candidate

üìß Checking email: vibhorgoyal.talenttalks@gmail.com

‚úÖ Email received in üóëÔ∏è Spam
   Subject: Interview Link for Candidate
   From: viabot23@gmail.com
    And I should extract the interview URL from the email                                                                        # features/steps/create_job_opening_steps.py:818
2025-12-22 16:55:04,196 - INFO - talent-talks-automation - Interview URL extracted: https://talenttalks.vlinkinfo.com/interview?name=Python_1222_1654&interviewId=69492a79cb423cc8fe89e069

================================================================================
üîó INTERVIEW INVITATION LINK
================================================================================
   Found in: üóëÔ∏è Spam
   Link: https://talenttalks.vlinkinfo.com/interview?name=Python_1222_1654&interviewId=69492a79cb423cc8fe89e069
================================================================================

    When I wait for 2 seconds                                                                                                    # features/steps/common_steps.py:170
2025-12-22 16:55:06,205 - INFO - talent-talks-automation - Waited for 2 seconds
    When I open the interview link                                                                                               # features/steps/create_job_opening_steps.py:864
2025-12-22 16:55:06,213 - INFO - talent-talks-automation - Interview scheduled for 16:55:39, waiting 33.0 seconds...
2025-12-22 16:55:44,206 - INFO - talent-talks-automation - Wait completed, interview time has arrived
2025-12-22 16:55:44,206 - INFO - talent-talks-automation - Opening interview link: https://talenttalks.vlinkinfo.com/interview?name=Python_1222_1654&interviewId=69492a79cb423cc8fe89e069
2025-12-22 16:55:44,690 - INFO - talent-talks-automation - Interview link opened successfully

‚è≥ Waiting 33.0 seconds for interview to start at 16:55:39...

üåê Opening interview link: https://talenttalks.vlinkinfo.com/interview?name=Python_1222_1654&interviewId=69492a79cb423cc8fe89e069
    Then the interview page should load successfully                                                                             # features/steps/create_job_opening_steps.py:909
2025-12-22 16:55:46,827 - INFO - talent-talks-automation - Interview page loaded and verified
2025-12-22 16:55:46,827 - INFO - talent-talks-automation - Screenshot captured and attached to Allure report
‚úÖ Interview page loaded successfully
üìÑ Page title: TalentTalks
üîó Current URL: https://talenttalks.vlinkinfo.com/interview?name=Python_1222_1654&interviewId=69492a79cb423cc8fe89e069
üì∏ Screenshot attached to test report
    And the interview should be ready to start                                                                                   # features/steps/create_job_opening_steps.py:948
2025-12-22 16:55:46,828 - INFO - talent-talks-automation - Interview verified as ready/started
‚úÖ Interview is ready to start or has started
    When I click the Start Interview button                                                                                      # features/steps/create_job_opening_steps.py:973
2025-12-22 16:55:46,926 - INFO - talent-talks-automation - Page state before clicking Start: {'url': 'https://talenttalks.vlinkinfo.com/interview?name=Python_1222_1654&interviewId=69492a79cb423cc8fe89e069', 'title': 'TalentTalks', 'has_welcome_heading': True, 'has_start_button': True, 'has_video_element': False, 'has_access_denied': False}
2025-12-22 16:55:50,986 - INFO - talent-talks-automation - Clicked Start Interview button

üñ±Ô∏è  Clicking Start Interview button...
‚úÖ Start Interview button clicked
    Then the interview should actually start                                                                                     # features/steps/create_job_opening_steps.py:1004
2025-12-22 16:55:51,132 - INFO - talent-talks-automation - Page state after clicking Start: {'url': 'https://talenttalks.vlinkinfo.com/interview?name=Python_1222_1654&interviewId=69492a79cb423cc8fe89e069', 'title': 'TalentTalks', 'has_welcome_heading': False, 'has_start_button': False, 'has_video_element': False, 'has_access_denied': False}
2025-12-22 16:55:54,139 - INFO - talent-talks-automation - Interview verified as started - page transitioned

üîç Verifying interview has started...
   Current URL: https://talenttalks.vlinkinfo.com/interview?name=Python_1222_1654&interviewId=69492a79cb423cc8fe89e069
   Has welcome heading: False
   Has start button: False
   Has video element: False
   Access denied: False
‚úÖ Interview has successfully started! Page transitioned away from welcome screen.
    When I wait for 2 seconds                                                                                                    # features/steps/common_steps.py:170
2025-12-22 16:55:56,273 - INFO - talent-talks-automation - Waited for 2 seconds
    When I click the "Show Transcripts" button in the interview                                                                  # features/steps/create_job_opening_steps.py:1083
2025-12-22 16:55:58,302 - INFO - talent-talks-automation - Clicked 'Show Transcripts' button
    Then the transcript panel should be visible                                                                                  # features/steps/create_job_opening_steps.py:1105
2025-12-22 16:55:58,434 - INFO - talent-talks-automation - Transcript panel is visible
    And the transcript should contain the AI greeting message                                                                    # features/steps/create_job_opening_steps.py:1120
2025-12-22 16:55:58,569 - INFO - talent-talks-automation - Transcript contains AI greeting. Full transcript: ['üë§ AI: Hello Python_1222_1654, how are you doing today?\nMy name is TalentTalks, and I‚Äôll be conducting your technical interview today.', 'üë§ AI: Hello Python_1222_1654, how are you doing today?\nMy name is TalentTalks, and I‚Äôll be conducting your technical interview today.']
    When I send candidate response "I am doing great, thank you for asking. I have five years of Python development experience." # features/steps/create_job_opening_steps.py:1150
2025-12-22 16:55:59,198 - INFO - talent-talks-automation - Processing candidate response with Gemini TTS: I am doing great, thank you for asking. I have five years of Python development experience.
2025-12-22 16:55:59,270 - INFO - talent-talks-automation - TTS Generator initialized with Gemini API (google.genai) and LangChain
2025-12-22 16:56:06,625 - INFO - talent-talks-automation - Processed text with LLM: Here are a few options, choose the one that best fits your personal style:

**Option 1 (Very concise...
2025-12-22 16:56:06,625 - INFO - talent-talks-automation - Generating audio for: Here are a few options, choose the one that best fits your personal style:

**Option 1 (Very concise...
2025-12-22 16:56:17,535 - INFO - talent-talks-automation - Audio file generated: /var/folders/84/nrnvh0l51lgfw4y3tkxz5vw40000gn/T/candidate_response_k2l9rh3g.mp3
2025-12-22 16:56:17,535 - INFO - talent-talks-automation - Generated audio file: /var/folders/84/nrnvh0l51lgfw4y3tkxz5vw40000gn/T/candidate_response_k2l9rh3g.mp3
2025-12-22 16:56:17,536 - ERROR - talent-talks-automation - Failed to generate/inject audio: Page.evaluate() takes from 2 to 3 positional arguments but 5 were given
2025-12-22 16:56:17,536 - INFO - talent-talks-automation - Falling back to text-based CDP injection
2025-12-22 16:56:26,037 - INFO - talent-talks-automation - Processed text with LLM: Here are a few natural, concise options:

**Option 1 (Very common and direct):**
"I'm doing great, t...
2025-12-22 16:56:26,037 - INFO - talent-talks-automation - Processed text for speech: Here are a few natural, concise options:

**Option 1 (Very common and direct):**
"I'm doing great, t...
‚ö† Fallback: Dispatched custom event for response
    And I wait for 3 seconds                                                                                                     # features/steps/common_steps.py:170
2025-12-22 16:56:32,082 - INFO - talent-talks-automation - Waited for 3 seconds
    Then the transcript should contain the candidate response                                                                    # features/steps/create_job_opening_steps.py:1201
2025-12-22 16:56:32,083 - INFO - talent-talks-automation - Looking for original: I am doing great, thank you for asking. I have five years of Python development experience.
2025-12-22 16:56:32,083 - INFO - talent-talks-automation - Or Gemini processed: Here are a few natural, concise options:

**Option 1 (Very common and direct):**
"I'm doing great, thanks for asking! I've got about five years of Python experience."

**Option 2 (Slightly more formal but still natural):**
"I'm doing great, thank you for asking. I have about five years of Python development experience."

**Option 3 (Focus on active work):**
"I'm doing great, thanks for asking! I've been working with Python for about five years."
2025-12-22 16:56:32,108 - INFO - talent-talks-automation - Transcript content: ['üë§ AI: Hello Python_1222_1654, how are you doing today?\nMy name is TalentTalks, and I‚Äôll be conducting your technical interview today.', 'üë§ AI: Hello Python_1222_1654, how are you doing today?\nMy name is TalentTalks, and I‚Äôll be conducting your technical interview today.']
2025-12-22 16:56:32,108 - INFO - talent-talks-automation - Candidate response found: False
      ASSERT FAILED: Candidate response not found in transcript. Expected: 'Here are a few natural, concise options:
      
      **Option 1 (Very common and direct):**
      "I'm doing great, thanks for asking! I've got about five years of Python experience."
      
      **Option 2 (Slightly more formal but still natural):**
      "I'm doing great, thank you for asking. I have about five years of Python development experience."
      
      **Option 3 (Focus on active work):**
      "I'm doing great, thanks for asking! I've been working with Python for about five years."'. Transcript: ['üë§ AI: Hello Python_1222_1654, how are you doing today?\nMy name is TalentTalks, and I‚Äôll be conducting your technical interview today.', 'üë§ AI: Hello Python_1222_1654, how are you doing today?\nMy name is TalentTalks, and I‚Äôll be conducting your technical interview today.']

2025-12-22 16:56:32,234 - INFO - talent-talks-automation - Finished scenario: Create job opening and verify it appears in the list "python_developer" -- @1.1  - Status: Status.failed


Failing scenarios:
  features/create_job_opening.feature:91  Create job opening and verify it appears in the list "python_developer" -- @1.1 

0 features passed, 1 failed, 0 skipped
0 scenarios passed, 1 failed, 0 skipped
45 steps passed, 1 failed, 0 skipped
Took 2min 8.787s
